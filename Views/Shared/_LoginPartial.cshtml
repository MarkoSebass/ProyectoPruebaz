@using Microsoft.AspNetCore.Identity
@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager

<ul class="navbar-nav align-items-center">

@if (SignInManager.IsSignedIn(User))
{
    <!-- Usuario logeado -->
    <li class="nav-item me-2">
        <a class="nav-link valo-user" 
           asp-area="Identity" 
           asp-page="/Account/Manage/Index" 
           title="Manage your account">
            <i class="bi bi-person-circle me-1"></i>
            @User.Identity?.Name
        </a>
    </li>

    <li class="nav-item">
        <form asp-area="Identity" 
              asp-page="/Account/Logout"
              asp-route-returnUrl="@Url.Action("Index", "Home", new { area = "" })"
              class="d-inline">
            <button type="submit" class="nav-link btn valo-logout-btn">
                <i class="bi bi-box-arrow-right me-1"></i> Logout
            </button>
        </form>
    </li>
}
else
{
    <!-- Usuario no logeado -->
    <li class="nav-item">
        <a class="nav-link valo-login-link" 
           asp-area="Identity" 
           asp-page="/Account/Register">
            <i class="bi bi-person-plus-fill me-1"></i> Register
        </a>
    </li>

    <li class="nav-item">
        <a class="nav-link valo-login-link" 
           asp-area="Identity" 
           asp-page="/Account/Login">
            <i class="bi bi-door-open-fill me-1"></i> Login
        </a>
    </li>
}
</ul>

<style>
    /* =============================
       VALORANT LoginPartial Styles
       ============================= */

    .valo-login-link,
    .valo-user {
        color: var(--valo-soft-white) !important;
        font-weight: 600;
        letter-spacing: 0.3px;
        transition: .25s ease;
        border-bottom: 2px solid transparent;
    }

    .valo-login-link:hover,
    .valo-user:hover {
        color: var(--valo-red) !important;
        border-bottom: 2px solid var(--valo-red);
        transform: translateY(-1px);
    }

    .valo-logout-btn {
        color: var(--valo-soft-white) !important;
        font-weight: 600;
        transition: .3s ease;
        border: none;
        padding: 0.4rem 0.75rem;
        background: transparent;
    }

    .valo-logout-btn:hover {
        color: var(--valo-red) !important;
        text-shadow: 0 0 8px rgba(255, 70, 85, .8);
        transform: translateY(-1px);
    }

    .valo-login-link i,
    .valo-user i,
    .valo-logout-btn i {
        opacity: 0.9;
        transition: .3s;
    }

    .valo-login-link:hover i,
    .valo-user:hover i,
    .valo-logout-btn:hover i {
        transform: scale(1.1);
        color: var(--valo-red);
    }
</style>